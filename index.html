
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø¬Ù„Ùˆ ÙƒÙŠØ± - Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <script>
    function generateOrderID() {
      return 'GC-' + Math.random().toString(36).substr(2, 6).toUpperCase();
    }

    function changeLanguage(lang) {
      document.documentElement.lang = lang;
      document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
      const arabicForm = document.getElementById('arabicForm');
      const englishForm = document.getElementById('englishForm');
      const confirmationBox = document.getElementById('confirmationBox');
      const trackingSection = document.getElementById('trackingSection');
      if (lang === 'ar') {
        arabicForm.style.display = 'block';
        englishForm.style.display = 'none';
        trackingSection.querySelector('.ar').style.display = 'block';
        trackingSection.querySelector('.en').style.display = 'none';
      } else {
        arabicForm.style.display = 'none';
        englishForm.style.display = 'block';
        trackingSection.querySelector('.ar').style.display = 'none';
        trackingSection.querySelector('.en').style.display = 'block';
      }
      confirmationBox.innerHTML = '';
    }

    function detectLanguage() {
      const userLang = navigator.language || navigator.userLanguage;
      if (userLang.startsWith('ar')) {
        changeLanguage('ar');
      } else {
        changeLanguage('en');
      }
    }

    function confirmCashOrder() {
      const name = document.getElementById('fullName').value;
      const phone = document.getElementById('phone').value;
      const address = document.getElementById('address').value;
      const quantity = document.getElementById('quantity').value;
      const notes = document.getElementById('notes').value;
      const orderID = generateOrderID();

      const confirmationBox = document.getElementById('confirmationBox');
      confirmationBox.innerHTML = `<div class='p-4 mt-4 bg-green-100 border rounded'>
        âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!<br>
        ğŸ†” Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: <strong>${orderID}</strong><br>
        Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù….<br>
        Ø­Ø§Ù„ÙŠØ§Ù‹ Ù†Ù‚Ø¨Ù„ Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø¯Ø§Ø®Ù„ Ù‚Ø·Ø± ÙÙ‚Ø·.<br>
        Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨Ù†Ø§ ğŸ’™
      </div>`;
    }

    async function checkTracking(event) {
      event.preventDefault();
      const trackingId = document.getElementById('trackingInput').value.trim().toUpperCase();
      const resultBox = document.getElementById('trackingResult');
      if (!trackingId) {
        resultBox.innerHTML = '<p class="text-red-500">âš ï¸ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ Ù„ØªØªØ¨Ø¹ Ø­Ø§Ù„ØªÙ‡.</p>';
        return;
      }

      try {
        const res = await fetch(`https://script.google.com/macros/s/AKfycby7K9aieTdp50Vm3_o-DLB7RxNOqnWXYXwfbpcZjt5V6pgNCT8KjaipHOunbLdvJ9Z3/exec?id=${trackingId}`);
        const data = await res.json();

        if (data.error) {
          resultBox.innerHTML = `<p class='text-red-600'>âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ø±Ù‚Ù…: ${trackingId}</p>`;
        } else {
          resultBox.innerHTML = `<div class='p-4 bg-green-100 rounded text-green-800'>
            âœ… Ø§Ù„Ø·Ù„Ø¨ Ø¨Ø§Ø³Ù…: <strong>${data.customer}</strong><br>
            ğŸ”„ Ø§Ù„Ø­Ø§Ù„Ø©: <strong>${data.status}</strong><br>
            ğŸšš Ø±Ù‚Ù… Ø§Ù„ØªØªØ¨Ø¹: <strong>${data.tracking || 'ØºÙŠØ± Ù…ØªÙˆÙØ± Ø¨Ø¹Ø¯'}</strong>
          </div>`;
        }
      } catch (error) {
        resultBox.innerHTML = `<p class='text-red-600'>âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ­Ù‚Ù‚. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§.</p>`;
      }
    }

    window.onload = detectLanguage;
  </script>
</head>
<body class="bg-gray-100 text-gray-800">
  <div class="flex justify-end p-4 bg-white">
    <button onclick="changeLanguage('ar')" class="mx-2 px-3 py-1 rounded border hover:bg-gray-200">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
    <button onclick="changeLanguage('en')" class="mx-2 px-3 py-1 rounded border hover:bg-gray-200">English</button>
  </div>

  <section id="order" class="py-10 px-4 bg-white">
    <h2 class="text-2xl font-bold mb-4 text-center">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨ / Order Form</h2>
    <div class="max-w-xl mx-auto">
      <form onsubmit="event.preventDefault(); confirmCashOrder();" class="grid gap-4" id="arabicForm">
        <input id="fullName" type="text" class="p-2 border rounded" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required />
        <input id="phone" type="text" class="p-2 border rounded" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„" required />
        <input id="address" type="text" class="p-2 border rounded" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„" required />
        <input id="quantity" type="number" class="p-2 border rounded" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" required min="1" />
        <textarea id="notes" class="p-2 border rounded" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>
        <button type="submit" class="bg-blue-600 text-white py-2 rounded hover:bg-blue-700">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</button>
      </form>

      <form onsubmit="event.preventDefault(); confirmCashOrder();" class="grid gap-4 hidden" id="englishForm">
        <input id="fullName" type="text" class="p-2 border rounded" placeholder="Full Name" required />
        <input id="phone" type="text" class="p-2 border rounded" placeholder="Phone Number" required />
        <input id="address" type="text" class="p-2 border rounded" placeholder="Full Address" required />
        <input id="quantity" type="number" class="p-2 border rounded" placeholder="Quantity" required min="1" />
        <textarea id="notes" class="p-2 border rounded" placeholder="Additional Notes (Optional)"></textarea>
        <button type="submit" class="bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Confirm Order - Cash on Delivery</button>
      </form>

      <div id="confirmationBox"></div>
    </div>
  </section>

  <section id="trackingSection" class="py-10 px-4 bg-white border-t">
    <div class="max-w-xl mx-auto">
      <div class="ar">
        <h2 class="text-xl font-bold mb-4">ğŸ” ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</h2>
        <form onsubmit="checkTracking(event)" class="grid gap-4">
          <input id="trackingInput" type="text" class="p-2 border rounded" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ (Ù…Ø«Ø§Ù„: GC-1A2B3C)" required />
          <button type="submit" class="bg-blue-600 text-white py-2 rounded hover:bg-blue-700">ØªØ­Ù‚Ù‚</button>
          <div id="trackingResult" class="mt-2"></div>
        </form>
      </div>
      <div class="en hidden">
        <h2 class="text-xl font-bold mb-4">ğŸ” Track Your Order</h2>
        <form onsubmit="checkTracking(event)" class="grid gap-4">
          <input id="trackingInput" type="text" class="p-2 border rounded" placeholder="Enter Order ID (e.g. GC-1A2B3C)" required />
          <button type="submit" class="bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Check</button>
          <div id="trackingResult" class="mt-2"></div>
        </form>
      </div>
    </div>
  </section>
</body>
</html>
